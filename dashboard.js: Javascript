// Simula usuário logado
const user = {
  name: "Imídio Macave",
  email: "imidiomacave07@gmail.com",
  balance: 0
};

// Preenche informações do usuário
document.getElementById("user-name").innerText = user.name;
document.getElementById("user-email").innerText = user.email;
document.getElementById("user-balance").innerText = user.balance + " M-Coin";

// Função para carregar planos da API
async function loadPlans() {
  const plansContainer = document.getElementById("plans-container");
  plansContainer.innerHTML = "<p>Carregando planos...</p>";

  try {
    // Substitua pela URL da sua API de planos
    const response = await fetch("https://macave-mining-1.onrender.com/api/plans");
    const plans = await response.json();

    if (!plans.length) {
      plansContainer.innerHTML = "<p>Nenhum plano disponível no momento.</p>";
      return;
    }

    plansContainer.innerHTML = "";
    plans.forEach(plan => {
      const planDiv = document.createElement("div");
      planDiv.classList.add("plan");
      planDiv.innerHTML = `
        <h3>${plan.name}</h3>
        <p>Preço: ${plan.price} M-Coin</p>
        <p>Duração: ${plan.duration}</p>
        <p>Benefícios: ${plan.benefits.join(", ")}</p>
      `;
      plansContainer.appendChild(planDiv);
    });

  } catch (error) {
    plansContainer.innerHTML = "<p>Erro ao carregar planos. Tente novamente mais tarde.</p>";
    console.error("Erro ao buscar planos:", error);
  }
}

// Carrega planos ao abrir o dashboard
loadPlans();
