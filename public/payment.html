<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Pagamento</title>
</head>
<body>

<h2>ðŸ’³ Escolher Pagamento</h2>

<select id="crypto">
  <option value="USDT">USDT</option>
  <option value="BTC">BTC</option>
  <option value="ETH">ETH</option>
</select>

<button onclick="pay()">Gerar pagamento</button>

<pre id="result"></pre>

<script>
async function pay() {
  const token = localStorage.getItem("token");
  const crypto = document.getElementById("crypto").value;

  const res = await fetch("/api/payment", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer " + token
    },
    body: JSON.stringify({
      plan: "BÃ¡sico",
      amount: 50,
      crypto
    })
  });

  const data = await res.json();
  document.getElementById("result").innerText =
    "Enviar para:\n" + data.wallet;
}
</script>

</body>
</html>
