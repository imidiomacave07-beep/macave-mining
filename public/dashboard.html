<!DOCTYPE html>
<html>
<body>
<h2>Dashboard</h2>

<button onclick="mine()">⛏️ Minerar</button>
<p id="result"></p>

<script>
async function mine() {
  const token = localStorage.getItem('token');

  const res = await fetch('/api/mining/mine', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer ' + token
    }
  });

  const data = await res.json();
  result.innerText = 
    data.message + 
    ' | Ganho: ' + data.earned + 
    ' | Saldo: ' + data.balance;
}
</script>
</body>
</html>
